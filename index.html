<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>MVP ebook-ftd</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css">
		<link rel="stylesheet" href="css/styles.css">

		<style>
			.background {
				position: absolute;
				z-index: 1;
				width: 1920px;
				height: 1080px;
				top: 0;
				left: 0;
			}
			.element {
				position: absolute;
				z-index: 2;
			}
			.element-click {
				cursor: pointer;
			}
			.element-click-hidden {
				cursor: pointer;
				display: none;
			}
		</style>

	</head>
	<body>
		<div class="reveal">
			<div class="slides">
	        	<!-- cover -->
                <section data-preload>
					<div class="background">
						<video width="1920" height="1080" autoplay muted id="video_capa">
							<source data-src="assets/video/CAPA_foguete.mp4" type="video/mp4">
						</video>
					</div>
					<div style=" 
						height: 939px;
						top: 113px;
						width: 450px;
						left: 739px;"
						id="mask_capa"
						class="element-click-hidden element"
						onclick="clickNext();"
					>
					</div>
				</section>

	        	<!-- page 1 -->
				<section 
				data-state="typed-section-page-1"
				data-background-color="#fff"
				>
				<div class="background">
					<img width="1920" height="1080" data-src="assets/image/fundo_branco.png">
				</div>
				<div class="element" style="
					height: 700px;
					top: 166px;
					width: 745px;
					left: 505px;"
				>
					<span id="typed-page-1"></span>
					<div id="typed-strings-page-1">
						<p>
							Tinha sido difícil empurrar uma poltrona tão
							pesada. Ela aproveitou que estava ali sem voar
							para esticar um pouquinho braços e pernas e
							descansar.
						</p>
					</div>
				</div>				
                <audio data-autoplay autoplay>
                    <source data-src="assets/audio/page_1.mp3" type="audio/mpeg">
                </audio>

				<div class="element" style="
					top: 606px;
					left: 36px;
					width: 228px;
					height: 324px;">
					<video width="100%" height="100%" muted id="arvore_1" onclick="clickVideo('arvore_1');">
						<source data-src="assets/video/arvore_1_page_1.mp4" type="video/mp4">
					</video>
				</div>

				<div class="element" style="
					top: 535px;
					left: 1613px;
					width: 272px;
					height: 380px;
					z-index: 3;">
					<video width="100%" height="100%" muted id="arvore_2" onclick="clickVideo('arvore_2');">
						<source data-src="assets/video/arvore_2_page_1.mp4" type="video/mp4">
					</video>
				</div>

				<div class="element" style="
					top: 472px;
					left: 271px;
					width: 352px;
					height: 488px;">
					<video width="100%" height="100%" muted id="menina_1" onclick="clickVideo('menina_1');">
						<source data-src="assets/video/menina_1_page_1.mp4" type="video/mp4">
					</video>
				</div>

				<div class="element" style="
					top: 652px;
					left: 1418px;
					width: 257px;
					height: 440px;">
					<video width="100%" height="100%" muted id="papagaio_1" onclick="clickVideo('papagaio_1');">
						<source data-src="assets/video/papagaio_1_page_1.mp4" type="video/mp4">
					</video>
				</div>

				<div class="element" style="
					top: 663px;
					left: 973px;
					width: 306px;
					height: 310px;;">
					<video width="100%" height="100%" muted id="planta_1" onclick="clickVideo('planta_1');">
						<source data-src="assets/video/planta_1_page_1.mp4" type="video/mp4">
					</video>
				</div>

				<div class="element" style="
					    top: 80px;
						left: 1333px;
						width: 296px;
						height: 298px;">
					<video width="100%" height="100%" muted id="sol_1" onclick="clickVideo('sol_1');">
						<source data-src="assets/video/sol_1_page_1.mp4" type="video/mp4">
					</video>
				</div>
				
                </section>

				<!-- page 2 -->
				<section 
				data-state="typed-section-page-2" >
				<div class="background">
					<img width="1920" height="1080" data-src="assets/image/fundo_preto.png">
				</div>
				<div class="element" style="
					    height: 150px;
						top: 87px;
						width: 745px;
						left: 505px;
						z-index: 3;"
				>
						<span id="typed-page-2"></span>
						<div id="typed-strings-page-2">
						<p>
							Sonhou com estrelas, cometas, sóis,
							luas e planetas habitados por seres engraçados.
						</p>
					</div>
				</div>
                    <audio data-autoplay controls autoplay hidden>
                        <source data-src="assets/audio/page_2.mp3" type="audio/mpeg">
                    </audio>

				<div class="element" style="
					    top: 135px;
						left: 752px;
						width: 419px;
						height: 320px;">
					<video width="100%" height="100%" muted id="fadinha_01" onclick="clickVideo('fadinha_01');">
						<source data-src="assets/video/fadinha_01_page_2.mp4" type="video/mp4">
					</video>
				</div>
				<div class="element" style="
					top: 221px;
					left: 175px;
					width: 594px;
					height: 750px;">
					<video width="100%" height="100%" muted id="foguete" onclick="clickVideo('foguete');">
						<source data-src="assets/video/foguete_page_2.mp4" type="video/mp4">
					</video>
				</div>
				<div class="element" style="
					top: 408px;
					left: 1389px;
					width: 390px;
					height: 634px;">
					<video width="100%" height="100%" muted id="papagaio" onclick="clickVideo('papagaio');">
						<source data-src="assets/video/papagaio_page_2.mp4" type="video/mp4">
					</video>
				</div>

				<div class="element" style="
					top: 85px;
					left: 1207px;
					width: 563px;
					height: 332px;">
					<video width="100%" height="100%" muted id="nave" onclick="clickVideo('nave');">
						<source data-src="assets/video/nave_page_2.mp4" type="video/mp4">
					</video>
				</div>

				<div class="element" style="
					    top: 583px;
						left: 734px;
						width: 638px;
						height: 326px;">
					<video width="100%" height="100%" muted id="fadinha_02" onclick="clickVideo('fadinha_02');">
						<source data-src="assets/video/fadinha-02_page_2.mp4" type="video/mp4">
					</video>
				</div>
                </section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="dist/plugin/typed/typed.js"></script>
		<script>
			Reveal.initialize({autoAnimate: false,
				transition: 'none',
				//  autoPlayMedia: false, 
				 autoAnimateEasing: null,  width: 1920, height: 1080, margin: 0, center: false
			});

			Reveal.addEventListener('typed-section-page-1', function (e) {
				document.getElementById("typed-page-1").innerHTML = ""
				restartTyped(2000, 50, '-page-1');
            });
			Reveal.addEventListener('typed-section-page-2', function (e) {
				// document.getElementById("typed-page-2").innerHTML = ""
				// restartTyped(0, 50, '-page-2');
				// pauseVideo('disco');
            });

			Reveal.on('slidechanged', event => {

				console.log(event)
				// var delayInMilliseconds = 1000; //1 second

				// setTimeout(function() {
				// 	document.querySelectorAll('.video-int').forEach(vid => vid.pause());
				// }, delayInMilliseconds);
			} );

			function clickVideo(videoId) { 
				var video = document.getElementById(videoId);
					if (video.paused == true) {
						video.loop = true;
						video.play();
					}
					else{
						video.pause();
					}
			}

			function pauseVideo(vid) { 
					// if (vid.paused !== true) {
					// 	vid.pause();
					// }
			}

			function clickNext() {
				Reveal.next();
			}

			var video_capa = document.getElementById("video_capa");
			video_capa.onended = function() {
				var mask_capa = document.getElementById("mask_capa");
				mask_capa.style.display = "block";
			};
		</script>
	</body>
</html>
